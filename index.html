<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Team Randomizer</title>
<style>
    .player-input {
        display: flex;
        align-items: center;
        margin-bottom: 8px;
    }
    .player-input label {
        width: 100px;
        text-align: right;
        margin-right: 8px;
    }
    .team-select {
        margin-left: 10px;
    }
    #savedNamesList li {
        display: flex;
        align-items: center;
        margin-bottom: 8px;
    }
    #savedNamesList button {
        margin-left: 8px;
    }
</style>
<script>
document.addEventListener("DOMContentLoaded", function() {
    loadSavedNames();
});

function saveName() {
    let playerName = document.getElementById("newPlayer").value.trim();
    if (playerName) {
        let storedNames = JSON.parse(localStorage.getItem("playerNames")) || [];
        if (!storedNames.includes(playerName)) {
            storedNames.push(playerName);
            localStorage.setItem("playerNames", JSON.stringify(storedNames));
            document.getElementById("newPlayer").value = "";
            loadSavedNames();
        }
    }
}

function loadSavedNames() {
    let storedNames = JSON.parse(localStorage.getItem("playerNames")) || [];
    let savedNamesList = document.getElementById("savedNamesList");
    savedNamesList.innerHTML = "";
    storedNames.forEach((name, index) => {
        let listItem = document.createElement("li");
        listItem.textContent = name;

        let deleteButton = document.createElement("button");
        deleteButton.textContent = "Delete";
        deleteButton.onclick = () => {
            storedNames.splice(index, 1);
            localStorage.setItem("playerNames", JSON.stringify(storedNames));
            loadSavedNames();
        };

        let addButton = document.createElement("button");
        addButton.textContent = "Add";
        addButton.onclick = () => {
            let playerInputs = document.querySelectorAll('input[name="players"]');
            for (let input of playerInputs) {
                if (!input.value) {
                    input.value = name;
                    break;
                }
            }
        };

        listItem.appendChild(addButton);
        listItem.appendChild(deleteButton);
        savedNamesList.appendChild(listItem);
    });
}

function addAllPlayers() {
    let storedNames = JSON.parse(localStorage.getItem("playerNames")) || [];
    let playerInputs = document.querySelectorAll('input[name="players"]');
    let inputIndex = 0;

    for (let name of storedNames) {
        while (inputIndex < playerInputs.length && playerInputs[inputIndex].value) {
            inputIndex++;
        }
        if (inputIndex < playerInputs.length) {
            playerInputs[inputIndex].value = name;
        } else {
            break;
        }
    }
}

function handleKeyPress(event) {
    if (event.key === 'Enter') {
        saveName();
        event.preventDefault();
    }
}
</script>
</head>
<body>
    <h1>Enter 10 Player Names</h1>
    <form id="playerForm">
        <!-- Player input fields -->
        <div id="playerInputsContainer">
            <!-- Inputs will be dynamically inserted here -->
        </div>
        <input type="button" value="Randomize Teams" onclick="randomizeTeams()">
    </form>
    <h2>Save a New Player Name</h2>
    <input type="text" id="newPlayer" placeholder="Enter player name" onkeypress="handleKeyPress(event)">
    <button type="button" onclick="saveName()">Save Player</button>
    <h2>Saved Player Names</h2>
    <button type="button" onclick="addAllPlayers()">Add All</button>
    <ul id="savedNamesList"></ul>

    <script>
    // Initialize player input fields
    const playerInputsContainer = document.getElementById('playerInputsContainer');
    for (let i = 1; i <= 10; i++) {
        const div = document.createElement('div');
        div.className = 'player-input';
        div.innerHTML = `
            <label for="player${i}">Player ${i}:</label>
            <input type="text" id="player${i}" name="players" required>
            <select id="team${i}" name="teams" class="team-select" required>
                <option value="0">Random</option>
                <option value="1">Team 1</option>
                <option value="2">Team 2</option>
            </select>
        `;
        playerInputsContainer.appendChild(div);
    }

    function randomizeTeams() {
        // Code to submit form data and handle team randomization goes here
        // For demonstration, we just log form values
        let players = Array.from(document.querySelectorAll('input[name="players"]')).map(input => input.value);
        let teams = Array.from(document.querySelectorAll('select[name="teams"]')).map(select => select.value);
        console.log('Players:', players);
        console.log('Teams:', teams);
        // In a real application, you would typically send this data to a server
    }
    </script>
</body>
</html>
